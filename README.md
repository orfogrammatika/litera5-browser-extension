Расширение для браузера Литера5
===============================

Расширение проверки правописания текстов на русском языке при помощи системы [Литера5](https://litera5.ru).

Для пользователей
-----------------

Вся пользовательская документация размещена в [вики этого хранилища](https://github.com/orfogrammatika/litera5-browser-extension/wiki). Там есть как инструкции по установке, так и инструкции по работе с расширением.

Если у вас возникли сложности по работе с расширением, вы обнаружили ошибки или же у вас есть предложения по его улучшению, то все замечания и соображения можно оставить в [списке проблем](https://github.com/orfogrammatika/litera5-browser-extension/issues), предварительно убедившись, что ваша ситуация уже не рассмотрена ранее.

Для разработчиков
-----------------

### Отладочная установка ###

1. Склонировать репозиторий
2. Выполнить `nvm use` чтобы переключиться на правильную версию `nodejs` (17.8.0)
2. Выполнить `yarn` чтобы скачать и установить все необходимые библиотеки
3. Выполнить `yarn start` для режима разработчика, `yarn build` для сборки дистрибутива
4. Добавить расширение в Chrome:
   1. Перейти на `chrome://extensions`
   2. Включить режим разработчика `Developer mode`
   3. Нажать на кнопку `Load unpacked`
   4. Выбрать каталог `dist`
5. Можно начинать работу!

### Сборка дистрибутива ###

1. Выполнить команду `make clean`
2. Для сборки дистрибутива расширения с 2 версией манифеста (для браузера Firefox) выполнить команду `make v2`
3. Для сборки дистрибутива расширения с 3 версией манифеста (для браузеров Chromium) выполнить команду `make v3`
4. Для одномоментной сборки дистрибутивов 2 и 3 версий манифеста выполнить команду `make`
5. Использовать результаты вида `litera5-browser-VER.m2.zip` или `litera5-browser-VER.m3.zip` по назначению 

### Выпуск версии ###

1. Установить новый номер версии командой `./bump_version.sh {{version}}`, политика версионирования по [semver](https://semver.org/lang/ru/)
2. Проверить, что номер установлен верный командой `./get_version.sh`
3. Заполнить `CHANGELOG.md` пользуясь рекоммендациями [ведите changelog](https://keepachangelog.com/ru/1.0.0/)
4. Собрать требуемый дистрибутив
5. Загрузить дистрибутив `.m3.zip` в [магазин Chrome](https://chrome.google.com/u/1/webstore/devconsole/)
6. Скачать получившийся дистрибутив `litera5-chrome.{{version}}.crx`
7. Загрузить дистрибутив `.m2.zip` в [магазин Firefox](https://addons.mozilla.org/ru/developers/)
8. Скачать получившийся дистрибутив `litera5-firefox.{{version}}.xpi`
9. Сохранить изменения в `git` и создать метку командой `git tag {{version}}`
10. Выпустить версию привязанную к метке `{{version}}` и опубликовать релиз загрузив туда все необходимые артефакты. В поле `title` указать название версии с самым главным изменением по смыслу, текст выпуска заполнить [по шаблону](https://github.com/orfogrammatika/litera5-browser-extension/wiki/_release)

Спасибо
-------

- [Chrome Extension Webpack](https://github.com/sszczep/chrome-extension-webpack) за шаблон проекта.
